<script>
	import { onDestroy, onMount } from 'svelte';
	import globalStyle from '../../stores/globalStyles';
	let lglobalStyles = $globalStyle;
	globalStyle.subscribe((gs) => {
		lglobalStyles = gs;
	});
	let height = '5vh';
	let width = '5vh';
	let left = 'auto';
	let top = 'auto';
	let style = '';
	let color = lglobalStyles.activeColor;

	let random = [];
	let interval;
	onMount(() => {
		interval = setInterval(() => {
			random = [];
			for (let ix = 0; ix < 15; ix++) {
				random.push(Math.min(Math.max(Math.random(), 0.3), 0.8));
			}
		}, 300);
	});

	onDestroy(() => {
		if (interval !== undefined) {
			clearInterval(interval);
		}
	});

	export { height, width, left, top, style, color };
</script>

<svg
	{width}
	{height}
	style="position: absolute; top: {top}; left: {left}; {style}"
	viewBox="0 0 25 50"
	fill="none"
	xmlns="http://www.w3.org/2000/svg"
>
	<g id="Group 753">
		<g id="t">
			<path
				id="Polygon 139"
				d="M12.3494 46.7839L3.21961 33.3829H21.4792L12.3494 46.7839Z"
				fill="url(#paint0_linear_78_150)"
				fill-opacity={random[0]}
			/>
			<path
				id="Polygon 140"
				d="M12.3494 48.3662L3.21961 34.9651H21.4792L12.3494 48.3662Z"
				fill="url(#paint1_linear_78_150)"
				fill-opacity={random[1]}
			/>
			<path
				id="Polygon 142"
				d="M12.3494 50L3.21961 36.5989H21.4792L12.3494 50Z"
				fill="url(#paint2_linear_78_150)"
				fill-opacity={random[2]}
			/>
		</g>
		<g id="Group 738">
			<path
				id="Rectangle 3125"
				d="M24.144 29.6205H0.5V0.5H14.8531L19.4986 5.14545L24.144 9.7909V29.6205Z"
				fill={color}
				fill-opacity="0.2"
				stroke={color}
			/>
			<g id="Group 703">
				<g id="Group 775">
					<path
						id="Rectangle 3097"
						d="M10.4664 11.1445C9.91415 11.1445 9.46643 10.6968 9.46643 10.1445V7.62646C9.46643 7.07417 9.91415 6.62646 10.4664 6.62646H12.9845C13.5368 6.62646 13.9845 7.07417 13.9845 7.62646V10.1445C13.9845 10.6968 13.5368 11.1445 12.9845 11.1445H10.4664Z"
						fill={color}
						fill-opacity={random[3]}
					/>
					<path
						id="Rectangle 3098"
						d="M11.4458 12.3064V13.8124H9.18675C8.77087 13.8124 8.43373 13.4753 8.43373 13.0594V13.0594C8.43373 12.6435 8.77087 12.3064 9.18675 12.3064H11.4458Z"
						fill={color}
						fill-opacity={random[4]}
					/>
					<path
						id="Rectangle 3099"
						d="M12.0482 13.8123V12.3062H14.3072C14.7231 12.3062 15.0603 12.6434 15.0603 13.0592V13.0592C15.0603 13.4751 14.7231 13.8123 14.3072 13.8123H12.0482Z"
						fill={color}
						fill-opacity={random[5]}
					/>
					<path
						id="Rectangle 3100"
						d="M11.4458 14.7161V16.2221H9.18675C8.77087 16.2221 8.43373 15.885 8.43373 15.4691V15.4691C8.43373 15.0532 8.77087 14.7161 9.18675 14.7161H11.4458Z"
						fill={color}
						fill-opacity={random[6]}
					/>
					<path
						id="Rectangle 3101"
						d="M12.0482 16.2219V14.7159H14.3072C14.7231 14.7159 15.0603 15.053 15.0603 15.4689V15.4689C15.0603 15.8848 14.7231 16.2219 14.3072 16.2219H12.0482Z"
						fill={color}
						fill-opacity={random[7]}
					/>
					<path
						id="Rectangle 3102"
						d="M11.4458 17.1255V18.6315H9.18675C8.77087 18.6315 8.43373 18.2944 8.43373 17.8785V17.8785C8.43373 17.4626 8.77087 17.1255 9.18675 17.1255H11.4458Z"
						fill={color}
						fill-opacity={random[8]}
					/>
					<path
						id="Rectangle 3103"
						d="M12.0482 18.6316V17.1256H14.3072C14.7231 17.1256 15.0603 17.4627 15.0603 17.8786V17.8786C15.0603 18.2945 14.7231 18.6316 14.3072 18.6316H12.0482Z"
						fill={color}
						fill-opacity={random[9]}
					/>
					<path
						id="Rectangle 3104"
						d="M11.4458 19.5352V21.0412H9.18675C8.77087 21.0412 8.43373 20.704 8.43373 20.2882V20.2882C8.43373 19.8723 8.77087 19.5352 9.18675 19.5352H11.4458Z"
						fill={color}
						fill-opacity={random[10]}
					/>
					<path
						id="Rectangle 3105"
						d="M12.0482 21.0413V19.5352H14.3072C14.7231 19.5352 15.0603 19.8724 15.0603 20.2882V20.2882C15.0603 20.7041 14.7231 21.0413 14.3072 21.0413H12.0482Z"
						fill={color}
						fill-opacity={random[11]}
					/>
					<path
						id="Rectangle 3106"
						d="M11.4458 21.9448V23.4508H9.18675C8.77087 23.4508 8.43373 23.1137 8.43373 22.6978V22.6978C8.43373 22.282 8.77087 21.9448 9.18675 21.9448H11.4458Z"
						fill={color}
						fill-opacity={random[12]}
					/>
					<path
						id="Rectangle 3107"
						d="M12.0482 23.4509V21.9449H14.3072C14.7231 21.9449 15.0603 22.282 15.0603 22.6979V22.6979C15.0603 23.1138 14.7231 23.4509 14.3072 23.4509H12.0482Z"
						fill={color}
						fill-opacity={random[13]}
					/>
				</g>
			</g>
		</g>
	</g>
	<defs>
		<linearGradient
			id="paint0_linear_78_150"
			x1="12.3494"
			y1="33.4543"
			x2="12.3494"
			y2="46.3551"
			gradientUnits="userSpaceOnUse"
		>
			<stop stop-color={color} />
			<stop offset="1" stop-color={color} stop-opacity="0" />
		</linearGradient>
		<linearGradient
			id="paint1_linear_78_150"
			x1="12.3494"
			y1="35.0366"
			x2="12.3494"
			y2="47.9374"
			gradientUnits="userSpaceOnUse"
		>
			<stop stop-color={color} />
			<stop offset="1" stop-color={color} stop-opacity="0" />
		</linearGradient>
		<linearGradient
			id="paint2_linear_78_150"
			x1="12.3494"
			y1="36.6704"
			x2="12.3494"
			y2="49.5712"
			gradientUnits="userSpaceOnUse"
		>
			<stop stop-color={color} />
			<stop offset="1" stop-color={color} stop-opacity="0" />
		</linearGradient>
	</defs>
</svg>

<style>
	path {
		transition: all linear 0.3s;
	}
</style>
